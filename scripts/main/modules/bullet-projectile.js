/* Copyright 2025 <FireWave Interactive>. This work is licensed under the Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. You may not use this work for commercial purposes, and you may not alter, transform, or build upon this work. For more details, visit http://creativecommons.org/licenses/by-nc-nd/4.0/ */
const _0x4df5fa=_0x5d07;function _0x5d07(_0x423bd1,_0x5d0786){_0x423bd1=_0x423bd1-(0x3*-0x35+-0x12be+0x14e4);const _0x49ca22=_0x423b();let _0x381db4=_0x49ca22[_0x423bd1];return _0x381db4;}function _0x423b(){const _0xe99adc=['cal\x20e','et_sp','varia','spark','Effec','lengt','t\x20ent','35kFGGtu','t\x20blo','Damag','aking','hainl','creat','Varia','3923210BEQMOP','sInBl','__pro','ntVal','ity\x20i','nctio','hitma','act.f','iron_','ctile','erEve','amage','golem','Parti','ity','setFl','entit','meTag','eBull','ling\x20','getBl','bulle','eMin','\x20to\x20p','table','act.m','getTa','match','Legs','shiel','mor','warn','andle','value','act','Feet',':bull','6019488elcHCE','ped\x20a','t_imp','onIni','m.bre','ir_z','1909980krDAXY','inclu','vents','yAtta','ive','npc','ment','spawn','rando','act.c','face','catch','hasSo','Encha','ntabl','Mainh','hance','rabil','ility','error','info','mpone','619644TiVfyq','ffMax','is\x22)(','ribe','eArmo','raft:','armor','fallO','act.p','type','lesh','Criti','mpact','\x20for\x20','llet\x20','Event','etBlo','findI','ernau','4ySUJkW','item','getEn','llet.','ckImp','cles','locat','rmor:','etal','d\x20to\x20','to__','is_bl','hot','found','clear','log','handl','tecti','overr','and','round','ble.d','198264SZctxB','etEnt','damag','ir_y','impac','getEq','hasTa','conso','getCo','\x22retu','Subsc','dista','act.','minec','trace','t_che','r:\x20','8MQuYTU','silen','ing','Knock','typeI','death','ids','getDa','tity','t_spa','Faile','.atta','getAr','\x20hand','bind','y\x20imp','pable','after','54533rGjPhW','push','iplie','ion','Chest','Equip','t\x20var','Calcu','uipme','ock','play\x20','max','weapo','_stan','forEa','act\x20h','tatio','const','toStr','on:\x20','nd:\x20',':jugg','pact:','min','iant:','ide','\x20dama','Healt','HitBl','some','mageC','playI','rror\x20','Head','Durab','maxDu','setEq','apply','pact','retur','cle','nceTo','curre','ck.bu','playe','ark','tion','ck\x20im','ockHi','oat','sendM','essag','air','run','rn\x20th','ble.s','calcD','ctor(','eBase','ffMin','dimen','376328FBcmZA',',\x20pro','Error','t.imp','hit\x20e','des','sound','ityIm','rojec','tags','ge:\x20','nameT','HitEn','ribed','unbre','sion'];_0x423b=function(){return _0xe99adc;};return _0x423b();}(function(_0x474385,_0x1db8b6){const _0x378e32=_0x5d07,_0x38a958=_0x474385();while(!![]){try{const _0x1c2236=-parseInt(_0x378e32(0x1df))/(-0x251*0x10+-0x2*-0x5d6+0x1965)*(parseInt(_0x378e32(0x1cd))/(-0x2fb*0x2+-0x1105*0x2+0x2802))+parseInt(_0x378e32(0x1bc))/(0x68b*-0x1+0x25c4+-0x1f36)*(parseInt(_0x378e32(0x1a6))/(-0x1*0x1d7d+-0xae4+-0x1*-0x2865))+-parseInt(_0x378e32(0x23a))/(-0x6a5+0xfff+-0x955)+-parseInt(_0x378e32(0x193))/(-0x2473+0xf7*-0x3+0x275e)*(-parseInt(_0x378e32(0x233))/(-0x160+-0x16f1+0x1858))+-parseInt(_0x378e32(0x21c))/(-0x190e+0x7ac+-0x8b5*-0x2)+parseInt(_0x378e32(0x25f))/(0x1743+0x2*-0x349+-0x10a8)+parseInt(_0x378e32(0x265))/(0xaee*-0x2+0xd1*0x24+-0x112*0x7);if(_0x1c2236===_0x1db8b6)break;else _0x38a958['push'](_0x38a958['shift']());}catch(_0x4b0355){_0x38a958['push'](_0x38a958['shift']());}}}(_0x423b,-0x704d0+-0x4c922*0x2+-0x91*-0x27dd));const _0x106d94=(function(){let _0x2dfd7c=!![];return function(_0x2226a7,_0x549d74){const _0x58e067=_0x2dfd7c?function(){const _0x37848e=_0x5d07;if(_0x549d74){const _0x52531f=_0x549d74[_0x37848e(0x204)](_0x2226a7,arguments);return _0x549d74=null,_0x52531f;}}:function(){};return _0x2dfd7c=![],_0x58e067;};}()),_0x3fabed=_0x106d94(this,function(){const _0x38e395=_0x5d07;let _0x57e306;try{const _0x478b94=Function(_0x38e395(0x206)+'n\x20(fu'+_0x38e395(0x23f)+'n()\x20'+('{}.co'+'nstru'+_0x38e395(0x218)+_0x38e395(0x1c5)+_0x38e395(0x215)+_0x38e395(0x195)+'\x20)')+');');_0x57e306=_0x478b94();}catch(_0x101089){_0x57e306=window;}const _0x3990b3=_0x57e306[_0x38e395(0x1c3)+'le']=_0x57e306[_0x38e395(0x1c3)+'le']||{},_0x36c832=[_0x38e395(0x1b5),_0x38e395(0x259),_0x38e395(0x191),_0x38e395(0x190),'excep'+_0x38e395(0x20d),_0x38e395(0x252),_0x38e395(0x1ca)];for(let _0x49046b=-0xc6*0x1c+-0x1ff7*-0x1+-0xa4f;_0x49046b<_0x36c832[_0x38e395(0x231)+'h'];_0x49046b++){const _0x49b2cb=_0x106d94[_0x38e395(0x1f0)+'ructo'+'r']['proto'+_0x38e395(0x19c)][_0x38e395(0x1db)](_0x106d94),_0x2498f3=_0x36c832[_0x49046b],_0x19b70b=_0x3990b3[_0x2498f3]||_0x49b2cb;_0x49b2cb[_0x38e395(0x23c)+_0x38e395(0x1b0)]=_0x106d94['bind'](_0x106d94),_0x49b2cb[_0x38e395(0x1f1)+_0x38e395(0x1cf)]=_0x19b70b[_0x38e395(0x1f1)+_0x38e395(0x1cf)][_0x38e395(0x1db)](_0x19b70b),_0x3990b3[_0x2498f3]=_0x49b2cb;}});_0x3fabed();import{EnchantmentTypes,EntityComponentTypes,EntityDamageCause,EquipmentSlot,GameMode,ItemComponentTypes,ItemStack,MolangVariableMap,Player,system,world}from'@minecraft/server';import{isSettingEnabled}from'main/util/settings';import{clamp}from'../util/calculation';import{DIR_MAP}from'../util/const';import{BULLET_ARMOR_PROTECTION,BULLET_DAMAGE,BULLET_HOLE_IGNORE_BLOCKS,BULLET_IMPACT_EFFECTS,NAMESPACED_ID}from'../util/data';import{isGameMode,playSound}from'../util/util';import _0x3db626 from'../util/vector3';import _0x48a93e from'./scripting';const BULLET_ENTITY_ID=NAMESPACED_ID+(_0x4df5fa(0x25e)+'et');export default class BulletModule extends _0x48a93e{constructor(_0x21b8ee='Bulle'+'t',_0xbdb4f3=!![]){super(_0x21b8ee,_0xbdb4f3);}[_0x4df5fa(0x262)+'tiali'+'ze'](){const _0x2ad628=_0x4df5fa;world[_0x2ad628(0x1de)+_0x2ad628(0x1a2)+'s']['proje'+_0x2ad628(0x243)+_0x2ad628(0x228)+_0x2ad628(0x1d5)]['subsc'+'ribe'](_0x86bdd1=>{const _0x41a524=_0x2ad628;this[_0x41a524(0x1b6)+_0x41a524(0x24c)+'etEnt'+_0x41a524(0x223)+_0x41a524(0x205)](_0x86bdd1)[_0x41a524(0x188)](_0x233567=>{const _0x195812=_0x41a524;this['error'](_0x195812(0x21e)+_0x195812(0x1da)+_0x195812(0x24d)+_0x195812(0x24f)+_0x195812(0x232)+_0x195812(0x23e)+'mpact'+':\x20'+_0x233567);});}),world[_0x2ad628(0x1de)+'Event'+'s']['proje'+_0x2ad628(0x243)+_0x2ad628(0x1fb)+_0x2ad628(0x1e8)]['subsc'+_0x2ad628(0x196)](_0x98623f=>{const _0x4a40f1=_0x2ad628;this[_0x4a40f1(0x1b6)+_0x4a40f1(0x24c)+_0x4a40f1(0x1a3)+_0x4a40f1(0x1aa)+'act'](_0x98623f)['catch'](_0x218ad3=>{const _0x2293e8=_0x4a40f1;this[_0x2293e8(0x190)](_0x2293e8(0x21e)+'\x20hand'+_0x2293e8(0x24d)+_0x2293e8(0x24f)+_0x2293e8(0x234)+_0x2293e8(0x20e)+_0x2293e8(0x1f5)+'\x20'+_0x218ad3);});}),this['info'](_0x2ad628(0x1c6)+_0x2ad628(0x229)+_0x2ad628(0x251)+_0x2ad628(0x224)+'tile\x20'+_0x2ad628(0x220)+_0x2ad628(0x267)+'.');}[_0x4df5fa(0x1d9)+_0x4df5fa(0x258)](_0x2526b5){const _0x5920fb=_0x4df5fa,_0x4a5489=_0x2526b5[_0x5920fb(0x1c4)+'mpone'+'nt'](EntityComponentTypes[_0x5920fb(0x1e4)+_0x5920fb(0x1dd)]);if(!_0x4a5489)return{'equipments':[],'shield':![]};const _0x292621=[EquipmentSlot[_0x5920fb(0x200)],EquipmentSlot[_0x5920fb(0x1e3)],EquipmentSlot[_0x5920fb(0x256)],EquipmentSlot[_0x5920fb(0x25d)]],_0x3865a8=[];_0x292621[_0x5920fb(0x1ed)+'ch'](_0x427b09=>{const _0x1f7fbd=_0x5920fb,_0x416dd7=_0x4a5489[_0x1f7fbd(0x1c1)+_0x1f7fbd(0x1e7)+'nt'](_0x427b09);if(!_0x416dd7)return;_0x416dd7[_0x1f7fbd(0x1d1)+'d']!==NAMESPACED_ID+':nvg'&&_0x3865a8[_0x1f7fbd(0x1e0)]({'item':_0x416dd7,'slot':_0x427b09}),this[_0x1f7fbd(0x191)]('Equip'+_0x1f7fbd(0x260)+_0x1f7fbd(0x1ad)+'\x20'+_0x416dd7[_0x1f7fbd(0x1d1)+'d']);});const _0x31aa9c=_0x2526b5[_0x5920fb(0x1c2)+'g'](_0x5920fb(0x1b1)+'ockin'+'g'),_0x2e4355=[EquipmentSlot[_0x5920fb(0x18c)+_0x5920fb(0x1b9)],EquipmentSlot['Offha'+'nd']][_0x5920fb(0x1fc)](_0x2707eb=>_0x4a5489[_0x5920fb(0x1c1)+_0x5920fb(0x1e7)+'nt'](_0x2707eb)?.[_0x5920fb(0x1d1)+'d']===_0x5920fb(0x1c9)+'raft:'+_0x5920fb(0x257)+'d');return{'equipments':_0x3865a8,'shield':_0x2e4355&&_0x31aa9c};}[_0x4df5fa(0x1be)+_0x4df5fa(0x197)+'r'](_0x5e7995,_0x599b17,_0x57218d,_0x1f5ffb){const _0x4990aa=_0x4df5fa,_0x38d6b5=_0x5e7995[_0x4990aa(0x1c1)+_0x4990aa(0x1e7)+'nt'](_0x599b17);if(!_0x38d6b5)return{'protection':0x0};const _0x43efe8=_0x38d6b5[_0x4990aa(0x1c4)+_0x4990aa(0x192)+'nt'](ItemComponentTypes[_0x4990aa(0x201)+_0x4990aa(0x18f)]),_0xdb66c2=_0x38d6b5[_0x4990aa(0x1c4)+_0x4990aa(0x192)+'nt'](ItemComponentTypes[_0x4990aa(0x18a)+_0x4990aa(0x18b)+'e']),_0x12bb14=_0xdb66c2?.[_0x4990aa(0x1a8)+'chant'+_0x4990aa(0x26b)](EnchantmentTypes['get'](_0x4990aa(0x22a)+_0x4990aa(0x236)))?.['level']??-0x3*0x4cf+0x1f5e+-0x10f1,_0x3639b6=BULLET_ARMOR_PROTECTION[_0x38d6b5[_0x4990aa(0x1d1)+'d']]?.['value']||-0x3*0x371+0x55a+-0x43*-0x13;return!_0x1f5ffb&&_0x43efe8&&Math['rando'+'m']()<_0x43efe8[_0x4990aa(0x1d4)+_0x4990aa(0x1fd)+_0x4990aa(0x18d)](_0x12bb14)&&(_0x43efe8[_0x4990aa(0x1be)+'e']=Math[_0x4990aa(0x1f6)](_0x43efe8[_0x4990aa(0x1be)+'e']+_0x57218d,_0x43efe8[_0x4990aa(0x202)+'rabil'+_0x4990aa(0x248)])),_0x43efe8?.[_0x4990aa(0x1be)+'e']>=_0x43efe8['maxDu'+_0x4990aa(0x18e)+_0x4990aa(0x248)]?(playSound(_0x5e7995['entit'+'y']['dimen'+_0x4990aa(0x22b)],_0x4990aa(0x26d)+_0x4990aa(0x263)+'ak',_0x5e7995[_0x4990aa(0x24a)+'y'][_0x4990aa(0x1ac)+_0x4990aa(0x1e2)],0x1693+-0x418*-0x5+-0x2af7),_0x5e7995[_0x4990aa(0x203)+'uipme'+'nt'](_0x599b17,new ItemStack('minec'+_0x4990aa(0x198)+_0x4990aa(0x213)))):_0x5e7995[_0x4990aa(0x203)+_0x4990aa(0x1e7)+'nt'](_0x599b17,_0x38d6b5),{'protection':_0x3639b6};}[_0x4df5fa(0x217)+_0x4df5fa(0x245)](_0x313c68,_0x2073a5,_0x5df499,_0x179f81,_0x39c967){const _0x1c4492=_0x4df5fa,_0x41c769=_0x5df499[_0x1c4492(0x1c4)+_0x1c4492(0x192)+'nt'](EntityComponentTypes[_0x1c4492(0x1e4)+_0x1c4492(0x1dd)]),_0x1f1da1=_0x5df499 instanceof Player&&isGameMode(_0x5df499,GameMode[_0x1c4492(0x238)+_0x1c4492(0x269)]),{equipments:_0x4cb60e,shield:_0x561dea}=this[_0x1c4492(0x1d9)+_0x1c4492(0x258)](_0x5df499);let _0x2c7b16=0x2*0x8f9+0x2c2+-0x14b3;for(const {item:_0x161c47}of _0x4cb60e){const _0x3e28e0=BULLET_ARMOR_PROTECTION[_0x161c47[_0x1c4492(0x1d1)+'d']]?.[_0x1c4492(0x25b)]||0x1dc9+-0x4*-0x4e9+-0x316d;_0x2c7b16-=_0x3e28e0;}_0x2c7b16=clamp(_0x2c7b16,-0x403+0x1bac+-0x17a9+0.15,0x5*0x362+-0xb51*-0x2+-0x278b);let _0x836ca1=_0x179f81[_0x1c4492(0x1be)+_0x1c4492(0x219)]+(_0x2073a5['isSne'+'aking']?0x151a*-0x1+0x7d*0x41+-0x551*0x2+0.25:0x55d+0x1*0x111c+-0x1679)+(_0x2073a5[_0x1c4492(0x1c2)+'g'](_0x1c4492(0x1ce)+'cer')?-(-0x3*0xae4+0xde3*-0x1+0x12a*0x28):0x1b29+0x1819+-0x1e6*0x1b);const _0x5c9885=_0x179f81[_0x1c4492(0x199)+_0x1c4492(0x235)+'eMult'+_0x1c4492(0x1e1)+'r']??0xd83*0x1+0xcb3*0x1+-0x1a35;_0x41c769&&(this[_0x1c4492(0x1be)+_0x1c4492(0x197)+'r'](_0x41c769,EquipmentSlot[_0x1c4492(0x200)],(-0x76d+0x7*0x563+-0x1e44)*_0x5c9885,_0x1f1da1),this['damag'+_0x1c4492(0x197)+'r'](_0x41c769,EquipmentSlot[_0x1c4492(0x1e3)],(0x3*-0xaaa+-0xa39+-0x69*-0x67)*_0x5c9885,_0x1f1da1),this['damag'+_0x1c4492(0x197)+'r'](_0x41c769,EquipmentSlot[_0x1c4492(0x256)],(0xc71+-0xbea*-0x3+-0x302b)*_0x5c9885,_0x1f1da1),this[_0x1c4492(0x1be)+_0x1c4492(0x197)+'r'](_0x41c769,EquipmentSlot[_0x1c4492(0x25d)],(0x2*-0x47f+0x69d+0x265)*_0x5c9885,_0x1f1da1));const _0x3f1cad=_0x4cb60e['some'](({item:_0x3f2521})=>_0x3f2521['typeI'+'d']===NAMESPACED_ID+(_0x1c4492(0x1f4)+_0x1c4492(0x1a5)+_0x1c4492(0x1cb)+'stpla'+'te'))||_0x5df499['typeI'+'d']===_0x1c4492(0x1c9)+_0x1c4492(0x198)+_0x1c4492(0x242)+_0x1c4492(0x246);_0x3f1cad&&([_0x1c4492(0x24f)+_0x1c4492(0x1d6)+'rk',_0x1c4492(0x24f)+_0x1c4492(0x261)+_0x1c4492(0x25c)]['forEa'+'ch'](_0x440cb9=>{const _0x2c1243=_0x1c4492;_0x313c68['dimen'+_0x2c1243(0x22b)]?.['spawn'+_0x2c1243(0x247)+_0x2c1243(0x207)](NAMESPACED_ID+':'+_0x440cb9,_0x313c68[_0x2c1243(0x1ac)+_0x2c1243(0x1e2)]);}),playSound(_0x313c68['dimen'+'sion'],_0x1c4492(0x24f)+_0x1c4492(0x21f)+_0x1c4492(0x26e)+_0x1c4492(0x237)+'ink',_0x313c68[_0x1c4492(0x1ac)+_0x1c4492(0x1e2)],-0x1710+-0x11ec+0x290b,{'volume':0.5}),playSound(_0x313c68[_0x1c4492(0x21b)+'sion'],_0x1c4492(0x24f)+'t.imp'+_0x1c4492(0x253)+_0x1c4492(0x1ae),_0x313c68['locat'+_0x1c4492(0x1e2)],0x5*-0x4a7+-0x21bc+0x13*0x301,{'volume':0.6}));const _0x2585c9=new _0x3db626(_0x2073a5[_0x1c4492(0x1ac)+_0x1c4492(0x1e2)]['x'],_0x2073a5[_0x1c4492(0x1ac)+'ion']['y'],_0x2073a5[_0x1c4492(0x1ac)+'ion']['z']),_0x2c7e84=_0x2585c9[_0x1c4492(0x1c7)+_0x1c4492(0x208)](_0x39c967);if(_0x2c7e84>_0x179f81[_0x1c4492(0x19a)+_0x1c4492(0x21a)]){const _0x102337=Math[_0x1c4492(0x1f6)](_0x2c7e84,_0x179f81[_0x1c4492(0x19a)+_0x1c4492(0x194)]),_0x1b13f1=(_0x102337-_0x179f81[_0x1c4492(0x19a)+'ffMin'])/(_0x179f81[_0x1c4492(0x19a)+'ffMax']-_0x179f81[_0x1c4492(0x19a)+_0x1c4492(0x21a)]);_0x836ca1=_0x179f81['damag'+_0x1c4492(0x219)]-_0x1b13f1*(_0x179f81['damag'+_0x1c4492(0x219)]-_0x179f81[_0x1c4492(0x1be)+_0x1c4492(0x250)]);}let _0x47fa8b=Math[_0x1c4492(0x1ba)](_0x836ca1*_0x2c7b16);return _0x47fa8b=Math[_0x1c4492(0x1ea)](_0x561dea?0xa53*0x1+0x15e3+-0x61*0x55:_0x47fa8b,0x2a*0x61+-0x885+0x3d*-0x1f),this[_0x1c4492(0x191)](_0x1c4492(0x1e6)+'lated'+_0x1c4492(0x1f9)+_0x1c4492(0x226)+_0x47fa8b+('\x20(bas'+'e:\x20')+_0x836ca1+(_0x1c4492(0x21d)+_0x1c4492(0x1b7)+_0x1c4492(0x1f2))+_0x2c7b16+')'),{'damage':_0x47fa8b,'headshot':![]};}async['handl'+'eBull'+_0x4df5fa(0x1bd)+'ityIm'+'pact'](_0x57ec6c){system['run'](()=>{const _0x43fdcc=_0x5d07;try{const {source:_0x16067f,projectile:_0x482b47}=_0x57ec6c;if(!_0x16067f||!_0x482b47||_0x482b47[_0x43fdcc(0x1d1)+'d']!==BULLET_ENTITY_ID)return;const _0xe1ac8a=_0x57ec6c[_0x43fdcc(0x1a8)+'tityH'+'it'](),_0x8042b8=_0xe1ac8a?.[_0x43fdcc(0x24a)+'y'],_0x5ba0ea=_0x482b47[_0x43fdcc(0x1c4)+'mpone'+'nt'](EntityComponentTypes[_0x43fdcc(0x239)+'nt'])?.[_0x43fdcc(0x25b)];if(!_0x8042b8||_0x5ba0ea===undefined||_0x5ba0ea===null)return;if([_0x43fdcc(0x1c9)+_0x43fdcc(0x198)+'armor'+_0x43fdcc(0x1ec)+'d',_0x43fdcc(0x1c9)+_0x43fdcc(0x198)+_0x43fdcc(0x26a),_0x43fdcc(0x1c9)+_0x43fdcc(0x198)+_0x43fdcc(0x1a7)]['inclu'+_0x43fdcc(0x221)](_0x8042b8[_0x43fdcc(0x1d1)+'d']))return;const _0x18b487=BULLET_DAMAGE[_0x43fdcc(0x24f)+'t_'+_0x5ba0ea];if(!_0x18b487){_0x16067f[_0x43fdcc(0x211)+_0x43fdcc(0x212)+'e']('No\x20da'+'mage\x20'+'data\x20'+_0x43fdcc(0x1b3)+_0x43fdcc(0x1a0)+_0x43fdcc(0x24f)+_0x43fdcc(0x1e5)+_0x43fdcc(0x1f7)+'\x20'+_0x5ba0ea);return;}const _0x47acfe=this[_0x43fdcc(0x217)+_0x43fdcc(0x245)](_0x482b47,_0x16067f,_0x8042b8,_0x18b487,_0x57ec6c['locat'+'ion']),_0x54d5eb=_0x16067f instanceof Player?EntityDamageCause[_0x43fdcc(0x1b8)+_0x43fdcc(0x1f8)]:EntityDamageCause[_0x43fdcc(0x24a)+_0x43fdcc(0x268)+'ck'];if(_0x8042b8[_0x43fdcc(0x204)+'Damag'+'e'](_0x47acfe['damag'+'e'],{'cause':_0x54d5eb,'damagingEntity':_0x16067f,'damagingProjectile':_0x482b47})){try{_0x8042b8[_0x43fdcc(0x1b4)+'Veloc'+_0x43fdcc(0x248)](),_0x8042b8[_0x43fdcc(0x204)+_0x43fdcc(0x1d0)+'back'](-0xf4b+0x8ae+-0x1*-0x69d,0x533+0x5c+-0x58f*0x1,-0x8cd+0x1*-0x134f+0x1c1c,-0xf49+0x13b5+-0x46c*0x1);}catch(_0x171322){}const _0x237762=_0x8042b8[_0x43fdcc(0x1d1)+'d']===_0x43fdcc(0x1c9)+_0x43fdcc(0x198)+_0x43fdcc(0x20b)+'r'?_0x43fdcc(0x24f)+_0x43fdcc(0x21f)+_0x43fdcc(0x19b)+'layer':_0x43fdcc(0x24f)+'t.imp'+_0x43fdcc(0x241)+_0x43fdcc(0x19d);playSound(_0x16067f[_0x43fdcc(0x21b)+_0x43fdcc(0x22b)],_0x237762,_0x8042b8[_0x43fdcc(0x1ac)+_0x43fdcc(0x1e2)],0xc8a+0x326+-0xf9c);const _0x5cab72=_0x8042b8[_0x43fdcc(0x1c4)+_0x43fdcc(0x192)+'nt'](EntityComponentTypes[_0x43fdcc(0x1fa)+'h'])?.[_0x43fdcc(0x209)+_0x43fdcc(0x23d)+'ue'],_0x9b0d03=_0x8042b8;if(isSettingEnabled('death'+'Messa'+'ge')&&_0x5cab72<=0x1*-0x711+0x49*0x67+-0x476*0x5&&_0x9b0d03 instanceof Player&&_0x16067f instanceof Player){const _0xa84d1=_0x47acfe['heads'+_0x43fdcc(0x1b2)]?_0x43fdcc(0x1d2)+_0x43fdcc(0x1d8)+_0x43fdcc(0x20a)+_0x43fdcc(0x1a9)+'head':_0x43fdcc(0x1d2)+_0x43fdcc(0x1d8)+_0x43fdcc(0x20a)+'llet';world[_0x43fdcc(0x211)+'essag'+'e']({'rawtext':[{'translate':_0xa84d1,'with':[''+_0x9b0d03[_0x43fdcc(0x227)+'ag'],''+_0x16067f[_0x43fdcc(0x227)+'ag'],''+_0x18b487[_0x43fdcc(0x1eb)+'n']]}]});}if(_0x16067f instanceof Player)_0x16067f['trigg'+_0x43fdcc(0x244)+'nt'](NAMESPACED_ID+(':add_'+_0x43fdcc(0x240)+'rk'));}}catch(_0x464ce5){this['error'](_0x43fdcc(0x19e)+_0x43fdcc(0x22c)+_0x43fdcc(0x1ff)+'in\x20bu'+_0x43fdcc(0x1a1)+_0x43fdcc(0x24a)+_0x43fdcc(0x1dc)+_0x43fdcc(0x1ee)+_0x43fdcc(0x25a)+_0x43fdcc(0x1cc)+_0x464ce5);}});}async['handl'+_0x4df5fa(0x24c)+'etBlo'+_0x4df5fa(0x1aa)+_0x4df5fa(0x25c)](_0x38eeda){const _0x5d0168=_0x4df5fa;system[_0x5d0168(0x214)](()=>{const _0x5f355a=_0x5d0168;try{const {source:_0x23d0ff,projectile:_0x2ebd32}=_0x38eeda;if(!_0x23d0ff||!_0x2ebd32||_0x2ebd32['typeI'+'d']!==BULLET_ENTITY_ID)return;const _0x507e91=_0x38eeda[_0x5f355a(0x24e)+_0x5f355a(0x20f)+'t'](),_0x213300=_0x507e91?.['block'];if(_0x213300){const _0xd2601=this['findI'+_0x5f355a(0x19f)+'Effec'+'t'](_0x213300);_0xd2601&&this['playI'+_0x5f355a(0x19f)+_0x5f355a(0x230)+'t'](_0x23d0ff,_0x2ebd32,_0x213300,_0xd2601);if(!BULLET_HOLE_IGNORE_BLOCKS[_0x5f355a(0x1fc)](_0x5e0a40=>_0x213300['permu'+_0x5f355a(0x1ef)+'n'][_0x5f355a(0x255)+'es'](_0x5e0a40))){const _0x2817e5=_0x507e91[_0x5f355a(0x187)],{x:_0x543ecc,y:_0x2ee87f,z:_0x3d3e98}=DIR_MAP[_0x2817e5],_0x3354ae=new MolangVariableMap();_0x3354ae['setFl'+_0x5f355a(0x210)](_0x5f355a(0x22e)+_0x5f355a(0x216)+'ize',-0x1f9+0x2*-0xb69+0x18cb+0.05),_0x3354ae[_0x5f355a(0x249)+_0x5f355a(0x210)]('varia'+_0x5f355a(0x1bb)+'ir_x',_0x543ecc),_0x3354ae[_0x5f355a(0x249)+_0x5f355a(0x210)](_0x5f355a(0x22e)+_0x5f355a(0x1bb)+_0x5f355a(0x1bf),_0x2ee87f),_0x3354ae['setFl'+_0x5f355a(0x210)]('varia'+'ble.d'+_0x5f355a(0x264),_0x3d3e98);const _0x578bf1=_0x38eeda[_0x5f355a(0x1ac)+_0x5f355a(0x1e2)],_0x5130be={'x':_0x578bf1['x']+_0x543ecc*(-0x22a+-0x24cd*-0x1+-0x22a3+0.01),'y':_0x578bf1['y']+_0x2ee87f*(-0x1d27+-0x12*0x21+0x1*0x1f79+0.01),'z':_0x578bf1['z']+_0x3d3e98*(-0xebe+-0x1*0x697+0x1*0x1555+0.01)};_0x38eeda['dimen'+_0x5f355a(0x22b)]?.[_0x5f355a(0x26c)+_0x5f355a(0x247)+'cle'](NAMESPACED_ID+(_0x5f355a(0x25e)+'et_ho'+'le'),_0x5130be,_0x3354ae);}}}catch(_0x1a14b5){this[_0x5f355a(0x190)](_0x5f355a(0x21e)+_0x5f355a(0x1da)+'ling\x20'+_0x5f355a(0x24f)+_0x5f355a(0x234)+_0x5f355a(0x20e)+_0x5f355a(0x1f5)+'\x20'+_0x1a14b5);}});}[_0x4df5fa(0x1a4)+_0x4df5fa(0x19f)+_0x4df5fa(0x230)+'t'](_0x334348){const _0x440c50=_0x4df5fa;for(const _0x35517a in BULLET_IMPACT_EFFECTS){const _0x3c5fe0=BULLET_IMPACT_EFFECTS[_0x35517a];if(_0x3c5fe0['tags'][_0x440c50(0x231)+'h']>-0x115a+0x1066+-0x1*-0xf4&&this[_0x440c50(0x189)+_0x440c50(0x24b)+'sInBl'+_0x440c50(0x1e8)](_0x334348,_0x3c5fe0[_0x440c50(0x225)])||_0x3c5fe0[_0x440c50(0x1d3)][_0x440c50(0x231)+'h']>0x5*-0x747+-0xeb9+0x331c&&_0x3c5fe0[_0x440c50(0x1d3)][_0x440c50(0x266)+'des'](_0x334348[_0x440c50(0x1d1)+'d']))return _0x3c5fe0;}return null;}[_0x4df5fa(0x189)+'meTag'+_0x4df5fa(0x23b)+_0x4df5fa(0x1e8)](_0x1f390a,_0x81ec9b){const _0x5254f9=_0x4df5fa;return _0x1f390a[_0x5254f9(0x254)+'gs']()['some'](_0x52aa92=>_0x81ec9b[_0x5254f9(0x266)+_0x5254f9(0x221)](_0x52aa92));}[_0x4df5fa(0x1fe)+_0x4df5fa(0x19f)+_0x4df5fa(0x230)+'t'](_0x2f7306,_0x58d887,_0x355c4a,_0x56cc99){const _0x265a2f=_0x4df5fa;if(_0x56cc99[_0x265a2f(0x222)]&&_0x355c4a[_0x265a2f(0x1ac)+_0x265a2f(0x1e2)])try{playSound(_0x2f7306['dimen'+_0x265a2f(0x22b)],_0x265a2f(0x24f)+_0x265a2f(0x21f)+_0x265a2f(0x1c8)+_0x56cc99[_0x265a2f(0x222)],_0x355c4a[_0x265a2f(0x1ac)+_0x265a2f(0x1e2)],0x70b+0x266+-0x958,{'volume':0.75});}catch(_0x4880f4){this[_0x265a2f(0x191)](_0x265a2f(0x1d7)+'d\x20to\x20'+_0x265a2f(0x1e9)+_0x265a2f(0x1c0)+'t\x20sou'+_0x265a2f(0x1f3)+_0x4880f4);}_0x56cc99[_0x265a2f(0x22f)+'s']>=0x560+-0xb*-0x2e1+0x1af*-0x16&&this[_0x265a2f(0x26c)+_0x265a2f(0x247)+_0x265a2f(0x1ab)](_0x2f7306,_0x58d887,NAMESPACED_ID+(_0x265a2f(0x25e)+_0x265a2f(0x22d)+_0x265a2f(0x20c)),_0x56cc99['spark'+'s']);}['spawn'+_0x4df5fa(0x247)+_0x4df5fa(0x1ab)](_0xfafa75,_0x3c3be4,_0xa3504b,_0x208327){const _0xa15528=_0x4df5fa;for(let _0x33f092=0x1*-0xb19+0x67*-0x5+0x347*0x4;_0x33f092<_0x208327;_0x33f092++){try{_0x3c3be4[_0xa15528(0x1ac)+_0xa15528(0x1e2)]&&_0x3c3be4[_0xa15528(0x21b)+_0xa15528(0x22b)]&&_0xfafa75[_0xa15528(0x21b)+_0xa15528(0x22b)][_0xa15528(0x26c)+_0xa15528(0x247)+_0xa15528(0x207)](_0xa3504b,_0x3c3be4[_0xa15528(0x1ac)+_0xa15528(0x1e2)]);}catch(_0x58dc80){this[_0xa15528(0x191)]('Faile'+_0xa15528(0x1af)+_0xa15528(0x26c)+'\x20part'+'icle:'+'\x20'+_0x58dc80);}}}}